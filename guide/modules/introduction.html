<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Storefront API Modules | ADempiere Proxy API</title>
    <meta name="description" content="A documentation for Proxy of ADempiere Frontend">
    <link rel="icon" href="/proxy-adempiere-api/favicon.png">
    
    <link rel="preload" href="/proxy-adempiere-api/assets/css/0.styles.37bdd98f.css" as="style"><link rel="preload" href="/proxy-adempiere-api/assets/js/app.fe0fed7b.js" as="script"><link rel="preload" href="/proxy-adempiere-api/assets/js/64.ff13630e.js" as="script"><link rel="prefetch" href="/proxy-adempiere-api/assets/js/10.7682c434.js"><link rel="prefetch" href="/proxy-adempiere-api/assets/js/11.90e1a153.js"><link rel="prefetch" href="/proxy-adempiere-api/assets/js/12.484dac06.js"><link rel="prefetch" href="/proxy-adempiere-api/assets/js/13.4038db85.js"><link rel="prefetch" href="/proxy-adempiere-api/assets/js/14.818af237.js"><link rel="prefetch" href="/proxy-adempiere-api/assets/js/15.b80b7e35.js"><link rel="prefetch" href="/proxy-adempiere-api/assets/js/16.10b24572.js"><link rel="prefetch" href="/proxy-adempiere-api/assets/js/17.4eb3b097.js"><link rel="prefetch" href="/proxy-adempiere-api/assets/js/18.a1b52d27.js"><link rel="prefetch" href="/proxy-adempiere-api/assets/js/19.8c488339.js"><link rel="prefetch" href="/proxy-adempiere-api/assets/js/2.02b19f0b.js"><link rel="prefetch" href="/proxy-adempiere-api/assets/js/20.05312f9f.js"><link rel="prefetch" href="/proxy-adempiere-api/assets/js/21.8a3e0e62.js"><link rel="prefetch" href="/proxy-adempiere-api/assets/js/22.62da3a0a.js"><link rel="prefetch" href="/proxy-adempiere-api/assets/js/23.1693d097.js"><link rel="prefetch" href="/proxy-adempiere-api/assets/js/24.e8314f12.js"><link rel="prefetch" href="/proxy-adempiere-api/assets/js/25.262b4feb.js"><link rel="prefetch" href="/proxy-adempiere-api/assets/js/26.d9991a6a.js"><link rel="prefetch" href="/proxy-adempiere-api/assets/js/27.a599ff30.js"><link rel="prefetch" href="/proxy-adempiere-api/assets/js/28.b09840e6.js"><link rel="prefetch" href="/proxy-adempiere-api/assets/js/29.c5148760.js"><link rel="prefetch" href="/proxy-adempiere-api/assets/js/3.5d71fa79.js"><link rel="prefetch" href="/proxy-adempiere-api/assets/js/30.1ef58855.js"><link rel="prefetch" href="/proxy-adempiere-api/assets/js/31.f514be7b.js"><link rel="prefetch" href="/proxy-adempiere-api/assets/js/32.2ecc61bd.js"><link rel="prefetch" href="/proxy-adempiere-api/assets/js/33.28f3a917.js"><link rel="prefetch" href="/proxy-adempiere-api/assets/js/34.bf863141.js"><link rel="prefetch" href="/proxy-adempiere-api/assets/js/35.c76df6b9.js"><link rel="prefetch" href="/proxy-adempiere-api/assets/js/36.ac9a5f67.js"><link rel="prefetch" href="/proxy-adempiere-api/assets/js/37.91cb8e84.js"><link rel="prefetch" href="/proxy-adempiere-api/assets/js/38.051f5070.js"><link rel="prefetch" href="/proxy-adempiere-api/assets/js/39.e40af5ff.js"><link rel="prefetch" href="/proxy-adempiere-api/assets/js/4.f534cd4d.js"><link rel="prefetch" href="/proxy-adempiere-api/assets/js/40.278b2505.js"><link rel="prefetch" href="/proxy-adempiere-api/assets/js/41.697a4399.js"><link rel="prefetch" href="/proxy-adempiere-api/assets/js/42.bf722200.js"><link rel="prefetch" href="/proxy-adempiere-api/assets/js/43.b244b636.js"><link rel="prefetch" href="/proxy-adempiere-api/assets/js/44.80c2b619.js"><link rel="prefetch" href="/proxy-adempiere-api/assets/js/45.c6471cd7.js"><link rel="prefetch" href="/proxy-adempiere-api/assets/js/46.4ece0469.js"><link rel="prefetch" href="/proxy-adempiere-api/assets/js/47.1b3e893a.js"><link rel="prefetch" href="/proxy-adempiere-api/assets/js/48.97624ab0.js"><link rel="prefetch" href="/proxy-adempiere-api/assets/js/49.5d3bc4a6.js"><link rel="prefetch" href="/proxy-adempiere-api/assets/js/5.5164c108.js"><link rel="prefetch" href="/proxy-adempiere-api/assets/js/50.d20417a3.js"><link rel="prefetch" href="/proxy-adempiere-api/assets/js/51.df89fb70.js"><link rel="prefetch" href="/proxy-adempiere-api/assets/js/52.0e4da6cf.js"><link rel="prefetch" href="/proxy-adempiere-api/assets/js/53.c61f24f8.js"><link rel="prefetch" href="/proxy-adempiere-api/assets/js/54.e1a7a28d.js"><link rel="prefetch" href="/proxy-adempiere-api/assets/js/55.6262d9d9.js"><link rel="prefetch" href="/proxy-adempiere-api/assets/js/56.92bbaa63.js"><link rel="prefetch" href="/proxy-adempiere-api/assets/js/57.8760223d.js"><link rel="prefetch" href="/proxy-adempiere-api/assets/js/58.5ae3c1e8.js"><link rel="prefetch" href="/proxy-adempiere-api/assets/js/59.5d1b0281.js"><link rel="prefetch" href="/proxy-adempiere-api/assets/js/6.5fbf3791.js"><link rel="prefetch" href="/proxy-adempiere-api/assets/js/60.99d72099.js"><link rel="prefetch" href="/proxy-adempiere-api/assets/js/61.2ba6a77d.js"><link rel="prefetch" href="/proxy-adempiere-api/assets/js/62.762f72ae.js"><link rel="prefetch" href="/proxy-adempiere-api/assets/js/63.22164f5c.js"><link rel="prefetch" href="/proxy-adempiere-api/assets/js/65.becdcb28.js"><link rel="prefetch" href="/proxy-adempiere-api/assets/js/66.3875f66c.js"><link rel="prefetch" href="/proxy-adempiere-api/assets/js/7.478f1023.js"><link rel="prefetch" href="/proxy-adempiere-api/assets/js/8.1e6984a8.js"><link rel="prefetch" href="/proxy-adempiere-api/assets/js/9.6ed8552e.js">
    <link rel="stylesheet" href="/proxy-adempiere-api/assets/css/0.styles.37bdd98f.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/proxy-adempiere-api/" class="home-link router-link-active"><!----> <span class="site-name">ADempiere Proxy API</span></a> <div class="links" style="max-width:nullpx;"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/proxy-adempiere-api/guide/" class="nav-link router-link-active">ADempiere API</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Languages</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/proxy-adempiere-api/guide/modules/introduction.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">en-US</a></li><li class="dropdown-item"><!----> <a href="/proxy-adempiere-api/guide/es/" class="nav-link">es-ES</a></li></ul></div></div> <a href="https://github.com/adempiere/proxy-adempiere-api" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/proxy-adempiere-api/guide/" class="nav-link router-link-active">ADempiere API</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Languages</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/proxy-adempiere-api/guide/modules/introduction.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">en-US</a></li><li class="dropdown-item"><!----> <a href="/proxy-adempiere-api/guide/es/" class="nav-link">es-ES</a></li></ul></div></div> <a href="https://github.com/adempiere/proxy-adempiere-api" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav> <div class="load-success"><div id="codefund"></div></div> <ul class="sidebar-links"><li><div class="sidebar-group first"><p class="sidebar-heading"><span>General Information</span> <!----></p> <ul class="sidebar-group-items"><li><a href="/proxy-adempiere-api/guide/general/installation.html" class="sidebar-link">Installation</a></li><li><a href="/proxy-adempiere-api/guide/general/config.html" class="sidebar-link">Configuration</a></li><li><a href="/proxy-adempiere-api/guide/general/extensions.html" class="sidebar-link">Extensions</a></li></ul></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>ADempiere</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>Default gateway</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading open"><span>Modules</span> <span class="arrow down"></span></p> <ul class="sidebar-group-items"><li><a href="/proxy-adempiere-api/guide/modules/introduction.html" aria-current="page" class="active sidebar-link">Storefront API Modules</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/proxy-adempiere-api/guide/modules/introduction.html#default-modules" class="sidebar-link">Default modules</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/proxy-adempiere-api/guide/modules/introduction.html#default-catalog-module" class="sidebar-link">default-catalog module</a></li><li class="sidebar-sub-header"><a href="/proxy-adempiere-api/guide/modules/introduction.html#default-vsf-module" class="sidebar-link">default-vsf module</a></li></ul></li><li class="sidebar-sub-header"><a href="/proxy-adempiere-api/guide/modules/introduction.html#default-img-module" class="sidebar-link">default-img module</a></li><li class="sidebar-sub-header"><a href="/proxy-adempiere-api/guide/modules/introduction.html#where-can-i-find-my-modules" class="sidebar-link">Where can I find my modules?</a></li><li class="sidebar-sub-header"><a href="/proxy-adempiere-api/guide/modules/introduction.html#what-does-the-module-interface-look-like" class="sidebar-link">What does the module interface look like?</a></li><li class="sidebar-sub-header"><a href="/proxy-adempiere-api/guide/modules/introduction.html#what-does-the-default-module-structure-look-like" class="sidebar-link">What does the default module structure look like?</a></li><li class="sidebar-sub-header"><a href="/proxy-adempiere-api/guide/modules/introduction.html#how-can-i-query-elasticsearch" class="sidebar-link">How can I query ElasticSearch?</a></li><li class="sidebar-sub-header"><a href="/proxy-adempiere-api/guide/modules/introduction.html#how-do-i-create-a-new-module" class="sidebar-link">How do I create a new module?</a></li><li class="sidebar-sub-header"><a href="/proxy-adempiere-api/guide/modules/introduction.html#is-there-a-way-to-extend-the-default-modules" class="sidebar-link">Is there a way to extend the default modules?</a></li></ul></li><li><a href="/proxy-adempiere-api/guide/modules/tutorial.html" class="sidebar-link">Creating a new module</a></li></ul></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>Integrations</span> <span class="arrow right"></span></p> <!----></div></li></ul> </div> <div class="page"> <div class="content"><h1 id="storefront-api-modules"><a href="#storefront-api-modules" class="header-anchor">#</a> Storefront API Modules</h1> <p>We designed Storefront API (<code>SFAPI</code>) using a fully modular architecture. We composed the modules engine using the Inversion of Control principle. In this particular case it means that each module has full control over core <code>SFAPI</code> features, including:</p> <ul><li>GraphQL schema</li> <li>GraphQL middlewares</li> <li>ElasticSearch schema</li> <li>REST API Endpoints</li> <li>REST API Middlewares</li></ul> <h2 id="default-modules"><a href="#default-modules" class="header-anchor">#</a> Default modules</h2> <p>The default API implementation - <code>packages/default-vsf</code> - is compatible with Vue Storefront. You might want to implement the API using totally different formats by creating a <a href="/proxy-adempiere-api/guide/modules/tutorial.html">new module</a> based on one of the default modules or the boilerplates: <a href="https://github.com/DivanteLtd/storefront-api/tree/develop/src/modules/template-module" target="_blank" rel="noopener noreferrer"><code>template-module</code><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> and <a href="https://github.com/DivanteLtd/storefront-api/tree/develop/src/modules/sample-api" target="_blank" rel="noopener noreferrer"><code>sample-api</code><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <h3 id="default-catalog-module"><a href="#default-catalog-module" class="header-anchor">#</a> default-catalog module</h3> <p>This module is in charge of providing the standard <a href>GraphQL Schema</a> and ElasticSearch entities, and for providing Vue Storefront compatibility - including integrations with Magento1, Magento2, Spree and other platforms. You might want to use this module to implement your own <a href="/proxy-adempiere-api/guide/integration/integration.html">custom backend integration</a>. If your backend platform uses different data formats, it might be easier to comment out the default module from <a href="https://github.com/DivanteLtd/storefront-api/blob/develop/src/modules/index.ts" target="_blank" rel="noopener noreferrer">modules entry point<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> and create a new one.</p> <h3 id="default-vsf-module"><a href="#default-vsf-module" class="header-anchor">#</a> default-vsf module</h3> <p>This module implements a REST API covering most of the operations an eCommerce platform can have - including <code>user</code>, <code>cart</code>, <code>order</code>, <code>review</code> and other modules. The cool part is that it's compatible with Vue Storefront and most of the existing integrations we have for it. If you'd like to integrate this API with your own custom backend, you might want to follow the <a href="/proxy-adempiere-api/guide/integration/integration.html">custom backend integration tutorial</a>. This module uses <a href="https://github.com/DivanteLtd/storefront-api/tree/develop/src/platform" target="_blank" rel="noopener noreferrer"><code>platform</code><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> drivers. You may want to implement your own custom driver. The other way around this is to disable the <code>default-vsf</code> module and create a new API from scratch, using the <a href="https://github.com/DivanteLtd/storefront-api/tree/develop/src/modules/sample-api" target="_blank" rel="noopener noreferrer"><code>simple-api</code><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>.</p> <h2 id="default-img-module"><a href="#default-img-module" class="header-anchor">#</a> default-img module</h2> <p>This module is an image resizer which is compatible with Vue Storefront, the <code>default-catalog</code> module and the <a href="/proxy-adempiere-api/guide/default-modules/platforms.html">platform concept</a>. It takes the <code>baseUrl</code> from the <code>config[config.platform]</code> section by default and, based on that, generates the thumbnail or crops the picture.</p> <h2 id="where-can-i-find-my-modules"><a href="#where-can-i-find-my-modules" class="header-anchor">#</a> Where can I find my modules?</h2> <p>Modules are located in <a href="https://github.com/DivanteLtd/storefront-api/tree/develop/src/modules" target="_blank" rel="noopener noreferrer"><code>src/modules</code><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>. However, you can easily load <code>npm</code> based modules just by <a href="https://github.com/DivanteLtd/storefront-api/blob/develop/src/modules/index.ts" target="_blank" rel="noopener noreferrer">referencing them in the modules entry point<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>. In the same way, you can disable the default e-Commerce modules that are provided within the <code>default-catalog</code>, <code>default-vsf</code> and <code>default-img</code> folders.</p> <h2 id="what-does-the-module-interface-look-like"><a href="#what-does-the-module-interface-look-like" class="header-anchor">#</a> What does the module interface look like?</h2> <p>The interfaces must be referenced prior to use in the <a href="https://github.com/DivanteLtd/storefront-api/blob/develop/src/modules/index.ts" target="_blank" rel="noopener noreferrer"><code>src/modules/index.ts</code><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> entrypoint:</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> DefaultVuestorefrontApiModule <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@storefront-api/default-vsf'</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> DefaultCatalogModule <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@storefront-api/default-catalog'</span>
<span class="token keyword">import</span> <span class="token operator">*</span> <span class="token keyword">as</span> magento2 <span class="token keyword">from</span> <span class="token string">'@storefront-api/platform-magento2'</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">[</span>
  <span class="token function">DefaultVuestorefrontApiModule</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    platform<span class="token operator">:</span> <span class="token punctuation">{</span>
      name<span class="token operator">:</span> <span class="token string">'magento2'</span><span class="token punctuation">,</span>
      platformImplementation<span class="token operator">:</span> magento2
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  DefaultCatalogModule<span class="token punctuation">,</span>
  <span class="token operator">...</span>
<span class="token punctuation">]</span>
</code></pre></div><p>Each module file returns the <a href="https://github.com/DivanteLtd/storefront-api/blob/a66222768bf7fb5f54acf268b6a0bb4e0f94a4cf/src/lib/module/types.ts#L24" target="_blank" rel="noopener noreferrer"><code>StorefrontApiModule</code><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> structure:</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">export</span> <span class="token keyword">const</span> TemplateModule<span class="token operator">:</span> StorefrontApiModule <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">StorefrontApiModule</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  key<span class="token operator">:</span> <span class="token string">'template-module'</span><span class="token punctuation">,</span>

  <span class="token comment">/** Return the GraphQL schema and resolvers */</span>
  initGraphql<span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">{</span> config<span class="token punctuation">,</span> db<span class="token punctuation">,</span> app <span class="token punctuation">}</span><span class="token operator">:</span> StorefrontApiContext<span class="token punctuation">)</span><span class="token operator">:</span> <span class="token parameter">GraphqlConfiguration</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
      resolvers<span class="token punctuation">,</span>
      schema<span class="token punctuation">,</span>
      hasGraphqlSupport<span class="token operator">:</span> <span class="token boolean">true</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>

  <span class="token comment">/** Return ElasticSearch mappings - you might extend existing entities (deepMerge will be executed on the types) */</span>
  loadMappings<span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">{</span> config<span class="token punctuation">,</span> db<span class="token punctuation">,</span> app <span class="token punctuation">}</span><span class="token operator">:</span> StorefrontApiContext<span class="token punctuation">)</span><span class="token operator">:</span> <span class="token parameter">ElasticSearchMappings</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
      schemas<span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token string">'custom'</span><span class="token operator">:</span> <span class="token function">loadSchema</span><span class="token punctuation">(</span>path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">'elasticsearch'</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">'custom'</span><span class="token punctuation">,</span> config<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'elasticsearch.apiVersion'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span><span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>

  <span class="token comment">/** Here you can just extend the default Express.js application */</span>
  initApi<span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">{</span> config<span class="token punctuation">,</span> db<span class="token punctuation">,</span> app <span class="token punctuation">}</span><span class="token operator">:</span> StorefrontApiContext<span class="token punctuation">)</span><span class="token operator">:</span> <span class="token parameter"><span class="token keyword">void</span></span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> api <span class="token operator">=</span> <span class="token function">Router</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// mount the order resource</span>
    api<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token string">'/version'</span><span class="token punctuation">,</span> <span class="token function">version</span><span class="token punctuation">(</span><span class="token punctuation">{</span> config<span class="token punctuation">,</span> db <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">registerExtensions</span><span class="token punctuation">(</span><span class="token punctuation">{</span> app<span class="token punctuation">,</span> config<span class="token punctuation">,</span> db<span class="token punctuation">,</span> registeredExtensions<span class="token operator">:</span> config<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'modules.templateModule.registeredExtensions'</span><span class="token punctuation">)</span><span class="token punctuation">,</span> rootPath<span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">'api'</span><span class="token punctuation">,</span> <span class="token string">'extensions'</span><span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>

    <span class="token comment">// api router</span>
    app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token string">'/template'</span><span class="token punctuation">,</span> api<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

</code></pre></div><p><strong>Please note:</strong> You don't have to implement all the methods. If your module adds some graphql entities, please feel free to implement <code>initGraphql</code> and leave the other functions un-implemented.</p> <h2 id="what-does-the-default-module-structure-look-like"><a href="#what-does-the-default-module-structure-look-like" class="header-anchor">#</a> What does the default module structure look like?</h2> <p>There is no required module structure. However, modules typically contain the following folder structure (<a href="https://github.com/DivanteLtd/storefront-api/tree/develop/src/modules/template-module" target="_blank" rel="noopener noreferrer">example<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>):</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token operator">|</span>____graphql                        <span class="token comment"># graphql resolvers and schema</span>
<span class="token operator">|</span> <span class="token operator">|</span>____resolvers.js                 <span class="token comment"># resolvers.js and schema.js returns the array of typedefs and resolvers using fileLoader()</span>
<span class="token operator">|</span> <span class="token operator">|</span>____schema.js
<span class="token operator">|</span> <span class="token operator">|</span>____hello                        <span class="token comment"># you might want to have your schema in subfolders **.* is used for loading it</span>
<span class="token operator">|</span> <span class="token operator">|</span> <span class="token operator">|</span>____schema.graphqls
<span class="token operator">|</span> <span class="token operator">|</span> <span class="token operator">|</span>____resolver.js
<span class="token operator">|</span>____api                            <span class="token comment"># typically the API is divided into subfolders as well</span>
<span class="token operator">|</span> <span class="token operator">|</span>____version.js
<span class="token operator">|</span> <span class="token operator">|</span>____extensions
<span class="token operator">|</span>____index.ts
<span class="token operator">|</span>____elasticsearch                  <span class="token comment"># json objects compatbible with Elastic Mappings</span>
<span class="token operator">|</span> <span class="token operator">|</span>____elastic.schema.custom.json
</code></pre></div><h2 id="how-can-i-query-elasticsearch"><a href="#how-can-i-query-elasticsearch" class="header-anchor">#</a> How can I query ElasticSearch?</h2> <p>All the infrastructure is there. You might want to check how <a href="https://github.com/DivanteLtd/storefront-api/blob/a66222768bf7fb5f54acf268b6a0bb4e0f94a4cf/src/modules/default-catalog/graphql/elasticsearch/product/resolver.js#L94" target="_blank" rel="noopener noreferrer">default-catalog<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> queries the data. However, this example is pretty complicated as it uses special Query adapters for advanced filtering.</p> <p>The simplest example was presented in the <a href="https://github.com/DivanteLtd/storefront-api/blob/develop/src/modules/template-module/graphql/hello/resolver.ts" target="_blank" rel="noopener noreferrer"><code>template-module</code><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>:</p> <div class="language-js extra-class"><pre class="language-js"><code>    <span class="token function-variable function">testElastic</span><span class="token operator">:</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token parameter">_<span class="token punctuation">,</span> <span class="token punctuation">{</span> sku <span class="token punctuation">}</span><span class="token punctuation">,</span> context<span class="token punctuation">,</span> rootValue</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword">const</span> client <span class="token operator">=</span> es<span class="token punctuation">.</span><span class="token function">getClient</span><span class="token punctuation">(</span>config<span class="token punctuation">)</span>
      <span class="token keyword">const</span> esQuery <span class="token operator">=</span> es<span class="token punctuation">.</span><span class="token function">adjustQuery</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        index<span class="token operator">:</span> <span class="token string">'vue_storefront_catalog'</span><span class="token punctuation">,</span> <span class="token comment">// current index name</span>
        type<span class="token operator">:</span> <span class="token string">'product'</span><span class="token punctuation">,</span>
        body<span class="token operator">:</span> <span class="token function">bodybuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token string">'terms'</span><span class="token punctuation">,</span> <span class="token string">'visibility'</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">andFilter</span><span class="token punctuation">(</span><span class="token string">'term'</span><span class="token punctuation">,</span> <span class="token string">'status'</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">andFilter</span><span class="token punctuation">(</span><span class="token string">'terms'</span><span class="token punctuation">,</span> <span class="token string">'sku'</span><span class="token punctuation">,</span> sku<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token string">'product'</span><span class="token punctuation">,</span> config<span class="token punctuation">)</span>
      <span class="token keyword">const</span> response <span class="token operator">=</span> es<span class="token punctuation">.</span><span class="token function">getResponseObject</span><span class="token punctuation">(</span><span class="token keyword">await</span> client<span class="token punctuation">.</span><span class="token function">search</span><span class="token punctuation">(</span>esQuery<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span>hits<span class="token punctuation">.</span>hits<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token parameter">el</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> el<span class="token punctuation">.</span>_source <span class="token punctuation">}</span><span class="token punctuation">)</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>response<span class="token punctuation">.</span>length <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token keyword">return</span> response<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">else</span> <span class="token keyword">return</span> <span class="token keyword">null</span>
    <span class="token punctuation">}</span>
</code></pre></div><p>As you can see, <a href="http://bodybuilder.js.org/" target="_blank" rel="noopener noreferrer"><code>bodybuilder</code><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> is included along with the elastic client - ready for your commands!</p> <h2 id="how-do-i-create-a-new-module"><a href="#how-do-i-create-a-new-module" class="header-anchor">#</a> How do I create a new module?</h2> <p>Please read the <a href="/proxy-adempiere-api/guide/modules/tutorial.html">tutorial.md</a>. The simplest way is to just copy the <a href="https://github.com/DivanteLtd/storefront-api/tree/develop/src/modules/template-module" target="_blank" rel="noopener noreferrer"><code>template-module</code><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>.</p> <h2 id="is-there-a-way-to-extend-the-default-modules"><a href="#is-there-a-way-to-extend-the-default-modules" class="header-anchor">#</a> Is there a way to extend the default modules?</h2> <p>There is no explicit way to extend the existing modules other than just creating a new module and using composition (importing the elements you'd like to reuse from the base/fallback module).</p></div> <div class="page-edit"><div class="edit-link"><a href="https://github.com/adempiere/proxy-adempiere-api/edit/master/guide/modules/introduction.md" target="_blank" rel="noopener noreferrer">Edit this page</a> <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></div> <!----></div> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/proxy-adempiere-api/guide/default-modules/extensions.html" class="prev">
          Extensions
        </a></span> <span class="next"><a href="/proxy-adempiere-api/guide/modules/tutorial.html">
          Creating a new module
        </a>
        →
      </span></p></div> </div> <!----></div></div>
    <script src="/proxy-adempiere-api/assets/js/app.fe0fed7b.js" defer></script><script src="/proxy-adempiere-api/assets/js/64.ff13630e.js" defer></script>
  </body>
</html>
